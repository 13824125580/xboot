/*
 * drivers/fb/font.c
 *
 * Copyright (c) 2007-2010 jianjun jiang <jerryjianjun@gmail.com>
 * official site: http://xboot.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software Foundation,
 * Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 *
 */

#include <configs.h>
#include <default.h>
#include <types.h>
#include <malloc.h>
#include <string.h>
#include <charset.h>
#include <vsprintf.h>
#include <xboot/list.h>
#include <xboot/proc.h>
#include <xboot/initcall.h>
#include <fb/bitmap.h>
#include <fb/fbcolor.h>
#include <fb/graphic.h>
#include <fb/font.h>

static struct font_list __font_list = {
	.entry = {
		.next	= &(__font_list.entry),
		.prev	= &(__font_list.entry),
	},
};
static struct font_list * font_list = &__font_list;

static struct font_reader_list __font_reader_list = {
	.entry = {
		.next	= &(__font_reader_list.entry),
		.prev	= &(__font_reader_list.entry),
	},
};
static struct font_reader_list * font_reader_list = &__font_reader_list;

static const u8_t default_font_glyph_data_0000_007f[128][16] = {
	[0x0] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7e,	/* _XXXXXX_ */
		0x81,	/* X______X */
		0xa5,	/* X_X__X_X */
		0x81,	/* X______X */
		0x81,	/* X______X */
		0xbd,	/* X_XXXX_X */
		0x99,	/* X__XX__X */
		0x81,	/* X______X */
		0x81,	/* X______X */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7e,	/* _XXXXXX_ */
		0xff,	/* XXXXXXXX */
		0xdb,	/* XX_XX_XX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xc3,	/* XX____XX */
		0xe7,	/* XXX__XXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x6c,	/* _XX_XX__ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0x7c,	/* _XXXXX__ */
		0x38,	/* __XXX___ */
		0x10,	/* ___X____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x10,	/* ___X____ */
		0x38,	/* __XXX___ */
		0x7c,	/* _XXXXX__ */
		0xfe,	/* XXXXXXX_ */
		0x7c,	/* _XXXXX__ */
		0x38,	/* __XXX___ */
		0x10,	/* ___X____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x3c,	/* __XXXX__ */
		0xe7,	/* XXX__XXX */
		0xe7,	/* XXX__XXX */
		0xe7,	/* XXX__XXX */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x7e,	/* _XXXXXX_ */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x8] = {
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xe7,	/* XXX__XXX */
		0xc3,	/* XX____XX */
		0xc3,	/* XX____XX */
		0xe7,	/* XXX__XXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
	},

	[0x9] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x66,	/* _XX__XX_ */
		0x42,	/* _X____X_ */
		0x42,	/* _X____X_ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0xa] = {
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xc3,	/* XX____XX */
		0x99,	/* X__XX__X */
		0xbd,	/* X_XXXX_X */
		0xbd,	/* X_XXXX_X */
		0x99,	/* X__XX__X */
		0xc3,	/* XX____XX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
		0xff,	/* XXXXXXXX */
	},

	[0xb] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x1e,	/* ___XXXX_ */
		0x0e,	/* ____XXX_ */
		0x1a,	/* ___XX_X_ */
		0x32,	/* __XX__X_ */
		0x78,	/* _XXXX___ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x78,	/* _XXXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0xc] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0xd] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3f,	/* __XXXXXX */
		0x33,	/* __XX__XX */
		0x3f,	/* __XXXXXX */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x70,	/* _XXX____ */
		0xf0,	/* XXXX____ */
		0xe0,	/* XXX_____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0xe] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7f,	/* _XXXXXXX */
		0x63,	/* _XX___XX */
		0x7f,	/* _XXXXXXX */
		0x63,	/* _XX___XX */
		0x63,	/* _XX___XX */
		0x63,	/* _XX___XX */
		0x63,	/* _XX___XX */
		0x67,	/* _XX__XXX */
		0xe7,	/* XXX__XXX */
		0xe6,	/* XXX__XX_ */
		0xc0,	/* XX______ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0xf] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0xdb,	/* XX_XX_XX */
		0x3c,	/* __XXXX__ */
		0xe7,	/* XXX__XXX */
		0x3c,	/* __XXXX__ */
		0xdb,	/* XX_XX_XX */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x10] = {
		0x00,	/* ________ */
		0x80,	/* X_______ */
		0xc0,	/* XX______ */
		0xe0,	/* XXX_____ */
		0xf0,	/* XXXX____ */
		0xf8,	/* XXXXX___ */
		0xfe,	/* XXXXXXX_ */
		0xf8,	/* XXXXX___ */
		0xf0,	/* XXXX____ */
		0xe0,	/* XXX_____ */
		0xc0,	/* XX______ */
		0x80,	/* X_______ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x11] = {
		0x00,	/* ________ */
		0x02,	/* ______X_ */
		0x06,	/* _____XX_ */
		0x0e,	/* ____XXX_ */
		0x1e,	/* ___XXXX_ */
		0x3e,	/* __XXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0x3e,	/* __XXXXX_ */
		0x1e,	/* ___XXXX_ */
		0x0e,	/* ____XXX_ */
		0x06,	/* _____XX_ */
		0x02,	/* ______X_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x12] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x13] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x00,	/* ________ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x14] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7f,	/* _XXXXXXX */
		0xdb,	/* XX_XX_XX */
		0xdb,	/* XX_XX_XX */
		0xdb,	/* XX_XX_XX */
		0x7b,	/* _XXXX_XX */
		0x1b,	/* ___XX_XX */
		0x1b,	/* ___XX_XX */
		0x1b,	/* ___XX_XX */
		0x1b,	/* ___XX_XX */
		0x1b,	/* ___XX_XX */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x15] = {
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0x60,	/* _XX_____ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x0c,	/* ____XX__ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x16] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x17] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x18] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x19] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0xfe,	/* XXXXXXX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xfe,	/* XXXXXXX_ */
		0x60,	/* _XX_____ */
		0x30,	/* __XX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x28,	/* __X_X___ */
		0x6c,	/* _XX_XX__ */
		0xfe,	/* XXXXXXX_ */
		0x6c,	/* _XX_XX__ */
		0x28,	/* __X_X___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1e] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x10,	/* ___X____ */
		0x38,	/* __XXX___ */
		0x38,	/* __XXX___ */
		0x7c,	/* _XXXXX__ */
		0x7c,	/* _XXXXX__ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x1f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0x7c,	/* _XXXXX__ */
		0x7c,	/* _XXXXX__ */
		0x38,	/* __XXX___ */
		0x38,	/* __XXX___ */
		0x10,	/* ___X____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x20] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x21] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x3c,	/* __XXXX__ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x22] = {
		0x00,	/* ________ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x24,	/* __X__X__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x23] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x6c,	/* _XX_XX__ */
		0x6c,	/* _XX_XX__ */
		0xfe,	/* XXXXXXX_ */
		0x6c,	/* _XX_XX__ */
		0x6c,	/* _XX_XX__ */
		0x6c,	/* _XX_XX__ */
		0xfe,	/* XXXXXXX_ */
		0x6c,	/* _XX_XX__ */
		0x6c,	/* _XX_XX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x24] = {
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc2,	/* XX____X_ */
		0xc0,	/* XX______ */
		0x7c,	/* _XXXXX__ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x86,	/* X____XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x25] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc2,	/* XX____X_ */
		0xc6,	/* XX___XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xc6,	/* XX___XX_ */
		0x86,	/* X____XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x26] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x76,	/* _XXX_XX_ */
		0xdc,	/* XX_XXX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x76,	/* _XXX_XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x27] = {
		0x00,	/* ________ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x28] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x29] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x30,	/* __XX____ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0xff,	/* XXXXXXXX */
		0x3c,	/* __XXXX__ */
		0x66,	/* _XX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2e] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x2f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x02,	/* ______X_ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xc0,	/* XX______ */
		0x80,	/* X_______ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x30] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x31] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x38,	/* __XXX___ */
		0x78,	/* _XXXX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x32] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xc0,	/* XX______ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x33] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x3c,	/* __XXXX__ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x34] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x1c,	/* ___XXX__ */
		0x3c,	/* __XXXX__ */
		0x6c,	/* _XX_XX__ */
		0xcc,	/* XX__XX__ */
		0xfe,	/* XXXXXXX_ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x1e,	/* ___XXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x35] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xfc,	/* XXXXXX__ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x36] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x38,	/* __XXX___ */
		0x60,	/* _XX_____ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xfc,	/* XXXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x37] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xc6,	/* XX___XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x38] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x39] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7e,	/* _XXXXXX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x78,	/* _XXXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0x30,	/* __XX____ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0x06,	/* _____XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7e,	/* _XXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3e] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x60,	/* _XX_____ */
		0x30,	/* __XX____ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x3f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x40] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xde,	/* XX_XXXX_ */
		0xde,	/* XX_XXXX_ */
		0xde,	/* XX_XXXX_ */
		0xdc,	/* XX_XXX__ */
		0xc0,	/* XX______ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x41] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x10,	/* ___X____ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x42] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfc,	/* XXXXXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x7c,	/* _XXXXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0xfc,	/* XXXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x43] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x66,	/* _XX__XX_ */
		0xc2,	/* XX____X_ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc2,	/* XX____X_ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x44] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xf8,	/* XXXXX___ */
		0x6c,	/* _XX_XX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x6c,	/* _XX_XX__ */
		0xf8,	/* XXXXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x45] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0x66,	/* _XX__XX_ */
		0x62,	/* _XX___X_ */
		0x68,	/* _XX_X___ */
		0x78,	/* _XXXX___ */
		0x68,	/* _XX_X___ */
		0x60,	/* _XX_____ */
		0x62,	/* _XX___X_ */
		0x66,	/* _XX__XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x46] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0x66,	/* _XX__XX_ */
		0x62,	/* _XX___X_ */
		0x68,	/* _XX_X___ */
		0x78,	/* _XXXX___ */
		0x68,	/* _XX_X___ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0xf0,	/* XXXX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x47] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x66,	/* _XX__XX_ */
		0xc2,	/* XX____X_ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xde,	/* XX_XXXX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x66,	/* _XX__XX_ */
		0x3a,	/* __XXX_X_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x48] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x49] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x1e,	/* ___XXXX_ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x78,	/* _XXXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xe6,	/* XXX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x6c,	/* _XX_XX__ */
		0x78,	/* _XXXX___ */
		0x78,	/* _XXXX___ */
		0x6c,	/* _XX_XX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0xe6,	/* XXX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xf0,	/* XXXX____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x62,	/* _XX___X_ */
		0x66,	/* _XX__XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xee,	/* XXX_XXX_ */
		0xfe,	/* XXXXXXX_ */
		0xfe,	/* XXXXXXX_ */
		0xd6,	/* XX_X_XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4e] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xe6,	/* XXX__XX_ */
		0xf6,	/* XXXX_XX_ */
		0xfe,	/* XXXXXXX_ */
		0xde,	/* XX_XXXX_ */
		0xce,	/* XX__XXX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x4f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x50] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfc,	/* XXXXXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x7c,	/* _XXXXX__ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0xf0,	/* XXXX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x51] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xd6,	/* XX_X_XX_ */
		0xde,	/* XX_XXXX_ */
		0x7c,	/* _XXXXX__ */
		0x0c,	/* ____XX__ */
		0x0e,	/* ____XXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x52] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfc,	/* XXXXXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x7c,	/* _XXXXX__ */
		0x6c,	/* _XX_XX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0xe6,	/* XXX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x53] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x60,	/* _XX_____ */
		0x38,	/* __XXX___ */
		0x0c,	/* ____XX__ */
		0x06,	/* _____XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x54] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7e,	/* _XXXXXX_ */
		0x7e,	/* _XXXXXX_ */
		0x5a,	/* _X_XX_X_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x55] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x56] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x10,	/* ___X____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x57] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xfe,	/* XXXXXXX_ */
		0xee,	/* XXX_XXX_ */
		0x6c,	/* _XX_XX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x58] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x7c,	/* _XXXXX__ */
		0x38,	/* __XXX___ */
		0x38,	/* __XXX___ */
		0x7c,	/* _XXXXX__ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x59] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xc6,	/* XX___XX_ */
		0x86,	/* X____XX_ */
		0x0c,	/* ____XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xc2,	/* XX____X_ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x80,	/* X_______ */
		0xc0,	/* XX______ */
		0xe0,	/* XXX_____ */
		0x70,	/* _XXX____ */
		0x38,	/* __XXX___ */
		0x1c,	/* ___XXX__ */
		0x0e,	/* ____XXX_ */
		0x06,	/* _____XX_ */
		0x02,	/* ______X_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x3c,	/* __XXXX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5e] = {
		0x10,	/* ___X____ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x5f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xff,	/* XXXXXXXX */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x60] = {
		0x00,	/* ________ */
		0x30,	/* __XX____ */
		0x18,	/* ___XX___ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x61] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x78,	/* _XXXX___ */
		0x0c,	/* ____XX__ */
		0x7c,	/* _XXXXX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x76,	/* _XXX_XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x62] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xe0,	/* XXX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x78,	/* _XXXX___ */
		0x6c,	/* _XX_XX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x63] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x64] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x1c,	/* ___XXX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x3c,	/* __XXXX__ */
		0x6c,	/* _XX_XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x76,	/* _XXX_XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x65] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0xc0,	/* XX______ */
		0xc0,	/* XX______ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x66] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x1c,	/* ___XXX__ */
		0x36,	/* __XX_XX_ */
		0x32,	/* __XX__X_ */
		0x30,	/* __XX____ */
		0x78,	/* _XXXX___ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x78,	/* _XXXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x67] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x76,	/* _XXX_XX_ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x7c,	/* _XXXXX__ */
		0x0c,	/* ____XX__ */
		0xcc,	/* XX__XX__ */
		0x78,	/* _XXXX___ */
		0x00,	/* ________ */
	},

	[0x68] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xe0,	/* XXX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x6c,	/* _XX_XX__ */
		0x76,	/* _XXX_XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0xe6,	/* XXX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x69] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x38,	/* __XXX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x06,	/* _____XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
	},

	[0x6b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xe0,	/* XXX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x66,	/* _XX__XX_ */
		0x6c,	/* _XX_XX__ */
		0x78,	/* _XXXX___ */
		0x78,	/* _XXXX___ */
		0x6c,	/* _XX_XX__ */
		0x66,	/* _XX__XX_ */
		0xe6,	/* XXX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x38,	/* __XXX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x3c,	/* __XXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xec,	/* XXX_XX__ */
		0xfe,	/* XXXXXXX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6e] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xdc,	/* XX_XXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x6f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x70] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xdc,	/* XX_XXX__ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x66,	/* _XX__XX_ */
		0x7c,	/* _XXXXX__ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0xf0,	/* XXXX____ */
		0x00,	/* ________ */
	},

	[0x71] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x76,	/* _XXX_XX_ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x7c,	/* _XXXXX__ */
		0x0c,	/* ____XX__ */
		0x0c,	/* ____XX__ */
		0x1e,	/* ___XXXX_ */
		0x00,	/* ________ */
	},

	[0x72] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xdc,	/* XX_XXX__ */
		0x76,	/* _XXX_XX_ */
		0x66,	/* _XX__XX_ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0x60,	/* _XX_____ */
		0xf0,	/* XXXX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x73] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x7c,	/* _XXXXX__ */
		0xc6,	/* XX___XX_ */
		0x60,	/* _XX_____ */
		0x38,	/* __XXX___ */
		0x0c,	/* ____XX__ */
		0xc6,	/* XX___XX_ */
		0x7c,	/* _XXXXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x74] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x10,	/* ___X____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0xfc,	/* XXXXXX__ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x30,	/* __XX____ */
		0x36,	/* __XX_XX_ */
		0x1c,	/* ___XXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x75] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0xcc,	/* XX__XX__ */
		0x76,	/* _XXX_XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x76] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x77] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xd6,	/* XX_X_XX_ */
		0xfe,	/* XXXXXXX_ */
		0x6c,	/* _XX_XX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x78] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0x6c,	/* _XX_XX__ */
		0x38,	/* __XXX___ */
		0x38,	/* __XXX___ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x79] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0x7e,	/* _XXXXXX_ */
		0x06,	/* _____XX_ */
		0x0c,	/* ____XX__ */
		0xf8,	/* XXXXX___ */
		0x00,	/* ________ */
	},

	[0x7a] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0xfe,	/* XXXXXXX_ */
		0xcc,	/* XX__XX__ */
		0x18,	/* ___XX___ */
		0x30,	/* __XX____ */
		0x60,	/* _XX_____ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7b] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x70,	/* _XXX____ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x0e,	/* ____XXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7c] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7d] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x70,	/* _XXX____ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x0e,	/* ____XXX_ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x18,	/* ___XX___ */
		0x70,	/* _XXX____ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7e] = {
		0x00,	/* ________ */
		0x76,	/* _XXX_XX_ */
		0xdc,	/* XX_XXX__ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	},

	[0x7f] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x10,	/* ___X____ */
		0x38,	/* __XXX___ */
		0x6c,	/* _XX_XX__ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xc6,	/* XX___XX_ */
		0xfe,	/* XXXXXXX_ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x00,	/* ________ */
	}
};

static const u8_t default_font_glyph_data_2500[16] = {
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0xff,		/* XXXXXXXX */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_2502[16] = {
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
};

static const u8_t default_font_glyph_data_250c[16] = {
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x1f,		/* ___XXXXX */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
};

static const u8_t default_font_glyph_data_2510[16] = {
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0xf8,		/* XXXXX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
};

static const u8_t default_font_glyph_data_2514[16] = {
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x1f,		/* ___XXXXX */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_2518[16] = {
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0x18,		/* ___XX___ */
	0xf8,		/* XXXXX___ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_25b2[16] = {
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x10,		/* ___X____ */
	0x38,		/* __XXX___ */
	0x38,		/* __XXX___ */
	0x7c,		/* _XXXXX__ */
	0x7c,		/* _XXXXX__ */
	0xfe,		/* XXXXXXX_ */
	0xfe,		/* XXXXXXX_ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_25b6[16] = {
	0x00,		/* ________ */
	0x80,		/* X_______ */
	0xc0,		/* XX______ */
	0xe0,		/* XXX_____ */
	0xf0,		/* XXXX____ */
	0xf8,		/* XXXXX___ */
	0xfe,		/* XXXXXXX_ */
	0xf8,		/* XXXXX___ */
	0xf0,		/* XXXX____ */
	0xe0,		/* XXX_____ */
	0xc0,		/* XX______ */
	0x80,		/* X_______ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_25bc[16] = {
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0xfe,		/* XXXXXXX_ */
	0xfe,		/* XXXXXXX_ */
	0x7c,		/* _XXXXX__ */
	0x7c,		/* _XXXXX__ */
	0x38,		/* __XXX___ */
	0x38,		/* __XXX___ */
	0x10,		/* ___X____ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static const u8_t default_font_glyph_data_25c0[16] = {
	0x00,		/* ________ */
	0x02,		/* ______X_ */
	0x06,		/* _____XX_ */
	0x0e,		/* ____XXX_ */
	0x1e,		/* ___XXXX_ */
	0x3e,		/* __XXXXX_ */
	0xfe,		/* XXXXXXX_ */
	0x3e,		/* __XXXXX_ */
	0x1e,		/* ___XXXX_ */
	0x0e,		/* ____XXX_ */
	0x06,		/* _____XX_ */
	0x02,		/* ______X_ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
	0x00,		/* ________ */
};

static struct font_glyph * default_font_glyph(u32_t code)
{
	static struct font_glyph glyph;
	u8_t * data;

	if( (code >= 0) && (code <= 0x7f) )
		data = (u8_t *)(&default_font_glyph_data_0000_007f[code][0]);

	else if(code == 0x2500)
		data = (u8_t *)(&default_font_glyph_data_2500[0]);
	else if(code == 0x2502)
		data = (u8_t *)(&default_font_glyph_data_2502[0]);

	else if(code == 0x250c)
		data = (u8_t *)(&default_font_glyph_data_250c[0]);
	else if(code == 0x2510)
		data = (u8_t *)(&default_font_glyph_data_2510[0]);
	else if(code == 0x2514)
		data = (u8_t *)(&default_font_glyph_data_2514[0]);
	else if(code == 0x2518)
		data = (u8_t *)(&default_font_glyph_data_2518[0]);

	else if(code == 0x25b2)
		data = (u8_t *)(&default_font_glyph_data_25b2[0]);
	else if(code == 0x25b6)
		data = (u8_t *)(&default_font_glyph_data_25b6[0]);
	else if(code == 0x25bc)
		data = (u8_t *)(&default_font_glyph_data_25bc[0]);
	else if(code == 0x25c0)
		data = (u8_t *)(&default_font_glyph_data_25c0[0]);

	else
		return NULL;

	glyph.code = code;
	glyph.w = 8;
	glyph.h = 16;
	glyph.data = data;

	return &glyph;
}

static const u8_t unkown_font_data[16][8] = {
	[0x0] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x04,	/* _____X__ */
		0x00,	/* ________ */
	},

	[0x1] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0c,	/* ____XX__ */
		0x04,	/* _____X__ */
		0x04,	/* _____X__ */
		0x0e,	/* ____XXX_ */
		0x00,	/* ________ */
	},

	[0x2] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x02,	/* ______X_ */
		0x04,	/* _____X__ */
		0x08,	/* ____X___ */
		0x0e,	/* ____XXX_ */
		0x00,	/* ________ */
	},

	[0x3] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x02,	/* ______X_ */
		0x04,	/* _____X__ */
		0x02,	/* ______X_ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
	},

	[0x4] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x0e,	/* ____XXX_ */
		0x02,	/* ______X_ */
		0x02,	/* ______X_ */
		0x00,	/* ________ */
	},

	[0x5] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x08,	/* ____X___ */
		0x0c,	/* ____XX__ */
		0x02,	/* ______X_ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
	},

	[0x6] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x06,	/* _____XX_ */
		0x08,	/* ____X___ */
		0x0c,	/* ____XX__ */
		0x0a,	/* ____X_X_ */
		0x04,	/* _____X__ */
		0x00,	/* ________ */
	},

	[0x7] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x02,	/* ______X_ */
		0x04,	/* _____X__ */
		0x04,	/* _____X__ */
		0x04,	/* _____X__ */
		0x00,	/* ________ */
	},

	[0x8] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x04,	/* _____X__ */
		0x00,	/* ________ */
	},

	[0x9] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x06,	/* _____XX_ */
		0x02,	/* ______X_ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
	},

	[0xa] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x0e,	/* ____XXX_ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x00,	/* ________ */
	},

	[0xb] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x0a,	/* ____X_X_ */
		0x0c,	/* ____XX__ */
		0x0a,	/* ____X_X_ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
	},

	[0xc] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x04,	/* _____X__ */
		0x0a,	/* ____X_X_ */
		0x08,	/* ____X___ */
		0x0a,	/* ____X_X_ */
		0x04,	/* _____X__ */
		0x00,	/* ________ */
	},

	[0xd] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0c,	/* ____XX__ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x0a,	/* ____X_X_ */
		0x0c,	/* ____XX__ */
		0x00,	/* ________ */
	},

	[0xe] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x08,	/* ____X___ */
		0x0c,	/* ____XX__ */
		0x08,	/* ____X___ */
		0x0e,	/* ____XXX_ */
		0x00,	/* ________ */
	},

	[0xf] = {
		0x00,	/* ________ */
		0x00,	/* ________ */
		0x0e,	/* ____XXX_ */
		0x08,	/* ____X___ */
		0x0c,	/* ____XX__ */
		0x08,	/* ____X___ */
		0x08,	/* ____X___ */
		0x00,	/* ________ */
	}
};

static struct font_glyph * unkown_font_glyph(u32_t code)
{
	static struct font_glyph glyph;
	static u8_t data[32];
	s32_t idx, i;

	idx = (code >> 12) & 0xf;
	for(i = 0; i < 8; i++)
	{
		if(i == 0)
			data[0 + i*2] = 0xff;
		else
			data[0 + i*2] = (unkown_font_data[idx][i] << 1) | 0x80;
	}

	idx = (code >> 8) & 0xf;
	for(i = 0; i < 8; i++)
	{
		if(i == 0)
			data[1 + i*2] = 0xfe;
		else
			data[1 + i*2] = (unkown_font_data[idx][i] << 3) | 0x02;
	}

	idx = (code >> 4) & 0xf;
	for(i = 0; i < 8; i++)
	{
		if(i == 7)
			data[16 + i*2] = 0xff;
		else
			data[16 + i*2] = (unkown_font_data[idx][i + 1] << 1) | 0x80;
	}

	idx = (code >> 0) & 0xf;
	for(i = 0; i < 8; i++)
	{
		if(i == 7)
			data[17 + i*2] = 0xfe;
		else
			data[17 + i*2] = (unkown_font_data[idx][i + 1] << 3) | 0x02;
	}

	glyph.code = code;
	glyph.w = 16;
	glyph.h = 16;
	glyph.data = data;

	return &glyph;
}

static bool_t match_extension(const char * filename, const char * ext)
{
	s32_t pos, ext_len;

	pos = strlen((const char *)filename);
	ext_len = strlen((const char *)ext);

	if( (!pos) || (!ext_len) || (ext_len > pos) )
		return FALSE;

	pos -= ext_len;

	return strcmp((const char *)(filename + pos), (const char *)ext) == 0;
}

static struct font_reader * search_font_reader(const char * extension)
{
	struct font_reader_list * list;
	struct list_head * pos;

	if(!extension)
		return NULL;

	for(pos = (&font_reader_list->entry)->next; pos != (&font_reader_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_reader_list, entry);
		if(strcmp(list->reader->extension, extension) == 0)
			return list->reader;
	}

	return NULL;
}

bool_t register_font_reader(struct font_reader * reader)
{
	struct font_reader_list * list;

	list = malloc(sizeof(struct font_reader_list));
	if(!list || !reader)
	{
		free(list);
		return FALSE;
	}

	if(!reader->extension || search_font_reader(reader->extension))
	{
		free(list);
		return FALSE;
	}

	list->reader = reader;
	list_add(&list->entry, &font_reader_list->entry);

	return TRUE;
}

bool_t unregister_font_reader(struct font_reader * reader)
{
	struct font_reader_list * list;
	struct list_head * pos;

	if(!reader || !reader->extension)
		return FALSE;

	for(pos = (&font_reader_list->entry)->next; pos != (&font_reader_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_reader_list, entry);
		if(list->reader == reader)
		{
			list_del(pos);
			free(list);
			return TRUE;
		}
	}

	return FALSE;
}

static struct font_glyph_list * search_font_glyph(struct font * font, struct font_glyph * glyph)
{
	struct font_glyph_list * list;
	struct hlist_node * pos;
	u32_t hash;

	if(!font)
		return NULL;

	if(!glyph)
		return NULL;

	hash = glyph->code % font->size;

	hlist_for_each_entry(list,  pos, &(font->table[hash]), node)
	{
		if(list->glyph->code == glyph->code)
			return list;
	}

	return NULL;
}

bool_t font_create(struct font ** font, const char * name, u32_t size)
{
	struct hlist_head * table;
	s32_t i;

	if(!font)
		return FALSE;

	*font = NULL;

	if(!name)
		return FALSE;

	if(size <= 0)
		return FALSE;

	*font = (struct font *)malloc(sizeof(struct font));
	if( !(*font) )
		return FALSE;

	table = malloc(sizeof(struct hlist_head) * size);
	if(!table)
	{
		free(*font);
		return FALSE;
	}

	for(i = 0; i < size; i++)
		init_hlist_head(&table[i]);

	(*font)->name = strdup(name);
	(*font)->table = table;
	(*font)->size = size;

	return TRUE;
}

bool_t add_font_glyph(struct font * font, struct font_glyph * glyph)
{
	struct font_glyph_list * list;
	u32_t hash;

	if(!font)
		return FALSE;

	if(!glyph)
		return FALSE;

	list = malloc(sizeof(struct font_glyph_list));
	if(!list || !glyph)
	{
		free(list);
		return FALSE;
	}

	if(search_font_glyph(font, glyph))
	{
		free(list);
		return FALSE;
	}

	list->glyph = glyph;

	hash = glyph->code % font->size;
	hlist_add_head(&(list->node), &(font->table[hash]));

	return TRUE;
}

bool_t font_destory(struct font * font)
{
	struct font_glyph_list * list;
	struct hlist_node * pos, * n;
	s32_t i;

	if(!font)
		return FALSE;

	for(i = 0; i < font->size; i++)
	{
		hlist_for_each_entry_safe(list, pos, n, &font->table[i], node)
		{
			hlist_del(&list->node);

			free(list->glyph->data);
			free(list->glyph);
			free(list);
		}
	}

	free(font->name);
	free(font->table);
	free(font);

	return TRUE;
}

struct font * get_font(const char * name)
{
	struct font_list * list;
	struct list_head * pos;

	if(!name)
		return NULL;

	for(pos = (&font_list->entry)->next; pos != (&font_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_list, entry);
		if(strcmp(list->font->name, name) == 0)
			return list->font;
	}

	return NULL;
}

static bool_t register_font(struct font * font)
{
	struct font_list * list;

	list = malloc(sizeof(struct font_list));
	if(!list || !font)
	{
		free(list);
		return FALSE;
	}

	if(!font->name || get_font(font->name))
	{
		free(list);
		return FALSE;
	}

	list->font = font;
	list_add(&list->entry, &font_list->entry);

	return TRUE;
}

bool_t install_font(const char * path)
{
	struct font_reader_list * list;
	struct list_head * pos;
	struct font * font;

	for(pos = (&font_reader_list->entry)->next; pos != (&font_reader_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_reader_list, entry);
		if(match_extension(path, list->reader->extension))
		{
			if(list->reader->load && list->reader->load(&font, path))
			{
				if(register_font(font))
					return TRUE;
				else
					font_destory(font);
			}
		}
	}

	return FALSE;
}

bool_t uninstall_font(const char * name)
{
	struct font_list * list;
	struct list_head * pos;

	if(!name)
		return FALSE;

	for(pos = (&font_list->entry)->next; pos != (&font_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_list, entry);
		if(strcmp(list->font->name, name) == 0)
		{
			font_destory(list->font);

			list_del(pos);
			free(list);

			return TRUE;
		}
	}

	return FALSE;
}

/*
 * get a glyph for the unicode character code in font
 */
static struct font_glyph * font_lookup_glyph(struct font * font, u32_t code)
{
	struct font_glyph * glyph;

	struct font_list * f_list;
	struct list_head * f_pos;
	struct font_glyph_list * list;
	struct hlist_node * pos;
	u32_t hash;

	if(font)
	{
		hash = code % font->size;
		hlist_for_each_entry(list,  pos, &(font->table[hash]), node)
		{
			if(list->glyph->code == code)
				return list->glyph;
		}
	}

	if((glyph = default_font_glyph(code)) != NULL)
		return glyph;

	for(f_pos = (&font_list->entry)->next; f_pos != (&font_list->entry); f_pos = f_pos->next)
	{
		f_list = list_entry(f_pos, struct font_list, entry);

		hash = code % f_list->font->size;
		hlist_for_each_entry(list,  pos, &(f_list->font->table[hash]), node)
		{
			if(list->glyph->code == code)
				return list->glyph;
		}
	}

	return unkown_font_glyph(code);
}

/*
 * draw the specified font glyph to framebuffer
 */
static bool_t font_draw_glyph_to_framebuffer(struct fb * fb, struct font_glyph * glyph, u32_t c, u32_t x, u32_t y)
{
	struct bitmap glyph_bitmap;
	struct bitmap_info * info;

	if((glyph->w == 0) || (glyph->h == 0))
		return TRUE;

	info = &(glyph_bitmap.info);

	info->width = glyph->w;
	info->height = glyph->h;
	info->fmt =	BITMAP_FORMAT_MONOCHROME;
	info->bpp = 1;
	info->bytes_per_pixel = 0;
	info->pitch = (glyph->w + 7) / 8;

	fb_unmap_color(fb, c, &info->fg_r, &info->fg_g, &info->fg_b, &info->fg_a);
	info->bg_r = info->bg_g = info->bg_b = info->bg_a = 0x00;

	glyph_bitmap.viewport.left = 0;
	glyph_bitmap.viewport.top = 0;
	glyph_bitmap.viewport.right = glyph->w;
	glyph_bitmap.viewport.bottom = glyph->h;

	glyph_bitmap.data = glyph->data;

	return fb_blit_bitmap(fb, &glyph_bitmap, BLIT_MODE_BLEND, x, y, glyph->w, glyph->h, 0, 0);
}

/*
 * draw the specified font glyph to bitmap
 */
static bool_t font_draw_glyph_to_bitmap(struct bitmap * bitmap, struct font_glyph * glyph, u32_t c, u32_t x, u32_t y)
{
	struct bitmap glyph_bitmap;
	struct bitmap_info * info;

	if((glyph->w == 0) || (glyph->h == 0))
		return TRUE;

	info = &(glyph_bitmap.info);

	info->width = glyph->w;
	info->height = glyph->h;
	info->fmt =	BITMAP_FORMAT_MONOCHROME;
	info->bpp = 1;
	info->bytes_per_pixel = 0;
	info->pitch = (glyph->w + 7) / 8;

	bitmap_unmap_color(bitmap, c, &info->fg_r, &info->fg_g, &info->fg_b, &info->fg_a);
	info->bg_r = info->bg_g = info->bg_b = info->bg_a = 0x00;

	glyph_bitmap.viewport.left = 0;
	glyph_bitmap.viewport.top = 0;
	glyph_bitmap.viewport.right = glyph->w;
	glyph_bitmap.viewport.bottom = glyph->h;

	glyph_bitmap.data = glyph->data;

	return bitmap_blit(bitmap, &glyph_bitmap, BLIT_MODE_BLEND, x, y, glyph->w, glyph->h, 0, 0);
}

/*
 * put a ucs-4 code to framebuffer
 */
bool_t fb_putcode(struct fb * fb, u32_t code, u32_t fc, u32_t bc, u32_t x, u32_t y)
{
	struct font_glyph * glyph;
	struct bitmap glyph_bitmap;
	struct bitmap_info * info;

	glyph = font_lookup_glyph(NULL, code);
	if((glyph->w == 0) || (glyph->h == 0))
		return TRUE;

	info = &(glyph_bitmap.info);

	info->width = glyph->w;
	info->height = glyph->h;
	info->fmt =	BITMAP_FORMAT_MONOCHROME;
	info->bpp = 1;
	info->bytes_per_pixel = 0;
	info->pitch = (glyph->w + 7) / 8;

	fb_unmap_color(fb, fc, &info->fg_r, &info->fg_g, &info->fg_b, &info->fg_a);
	fb_unmap_color(fb, bc, &info->bg_r, &info->bg_g, &info->bg_b, &info->bg_a);

	glyph_bitmap.viewport.left = 0;
	glyph_bitmap.viewport.top = 0;
	glyph_bitmap.viewport.right = glyph->w;
	glyph_bitmap.viewport.bottom = glyph->h;

	glyph_bitmap.data = glyph->data;

	return fb_blit_bitmap(fb, &glyph_bitmap, BLIT_MODE_REPLACE, x, y, glyph->w, glyph->h, 0, 0);
}

/*
 * draw a utf-8 string of text on the framebuffer
 */
bool_t fb_draw_text(struct fb * fb, const char * str, struct font * font, u32_t c, u32_t x, u32_t y)
{
	struct font_glyph * glyph;
	const s8_t * p;
	u32_t code;
	u32_t left;

	if(!fb)
		return FALSE;

	for(p = (const s8_t *)str, left = x; utf8_to_ucs4(&code, 1, p, -1, &p) > 0; )
	{
		glyph = font_lookup_glyph(font, code);
		if(!font_draw_glyph_to_framebuffer(fb, glyph, c, left, y))
			return FALSE;

		left += glyph->w;
	}

	return TRUE;
}

/*
 * draw a utf-8 string of text on the bitmap
 */
bool_t bitmap_draw_text(struct bitmap * bitmap, const char * str, struct font * font, u32_t c, u32_t x, u32_t y)
{
	struct font_glyph * glyph;
	const s8_t * p;
	u32_t code;
	u32_t left;

	if(!bitmap)
		return FALSE;

	for(p = (const s8_t *)str, left = x; utf8_to_ucs4(&code, 1, p, -1, &p) > 0; )
	{
		glyph = font_lookup_glyph(font, code);
		if(!font_draw_glyph_to_bitmap(bitmap, glyph, c, left, y))
			return FALSE;

		left += glyph->w;
	}

	return TRUE;
}

/*
 * get a utf-8 string's metrics
 */
bool_t font_get_metrics(const char * str, struct font * font, u32_t * w, u32_t * h)
{
	struct font_glyph * glyph;
	const s8_t * p;
	u32_t code;
	u32_t width = 0, height = 0;

	if(!w && !h)
		return FALSE;

	for(p = (const s8_t *)str; utf8_to_ucs4(&code, 1, p, -1, &p) > 0; )
	{
		glyph = font_lookup_glyph(font, code);
		width += glyph->w;
		if(height < glyph->h)
			height = glyph->h;
	}

	if(w)
		*w = width;
	if(h)
		*h = height;

	return TRUE;
}

static s32_t fonts_proc_read(u8_t * buf, s32_t offset, s32_t count)
{
	struct font_list * list;
	struct list_head * pos;
	s8_t * p;
	s32_t len = 0;

	if((p = malloc(SZ_4K)) == NULL)
		return 0;

	len += sprintf((char *)(p + len), (const char *)"[fonts]");
	for(pos = (&font_list->entry)->next; pos != (&font_list->entry); pos = pos->next)
	{
		list = list_entry(pos, struct font_list, entry);
		len += sprintf((char *)(p + len), (const char *)"\r\n %s", list->font->name);
	}

	len -= offset;

	if(len < 0)
		len = 0;

	if(len > count)
		len = count;

	memcpy(buf, (u8_t *)(p + offset), len);
	free(p);

	return len;
}

static struct proc fonts_proc = {
	.name	= "fonts",
	.read	= fonts_proc_read,
};

static __init void font_pure_sync_init(void)
{
	proc_register(&fonts_proc);
}

static __exit void font_pure_sync_exit(void)
{
	proc_unregister(&fonts_proc);
}

module_init(font_pure_sync_init, LEVEL_PURE_SYNC);
module_exit(font_pure_sync_exit, LEVEL_PURE_SYNC);
